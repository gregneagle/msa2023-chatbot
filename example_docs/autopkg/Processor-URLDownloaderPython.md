# URLDownloaderPython

> **NOTE: This page is automatically generated by GitHub Actions when a new release is tagged.**<br />Updates to the information on this page should be submitted as pull requests to the AutoPkg repository. Processors are located [here](https://github.com/autopkg/autopkg/tree/master/Code/autopkglib).
## Description
This is meant to be a pure python replacement for URLDownloader

    Prefetch Filename is still using URLDownloader's curl methods, rather than python.

    See: https://github.com/autopkg/autopkg/blob/master/Code/autopkglib/URLDownloader.py
    

## Input Variables
- **url:**
    - **required:** True
    - **description:** The URL to download.
- **download\_dir:**
    - **required:** False
    - **description:** The directory where the file will be downloaded to. Defaults to RECIPE\_CACHE\_DIR/downloads.
- **filename:**
    - **required:** False
    - **description:** Filename to override the URL's tail.
- **prefetch\_filename:**
    - **default:** False
    - **required:** False
    - **description:** If True, URLDownloader attempts to determine filename from HTTP headers downloaded before the file itself. 'prefetch\_filename' overrides 'filename' option. Filename is determined from the first available source of information in this order:
	1. Content-Disposition header
	2. Location header
	3. 'filename' option (if set)
	4. last part of 'url'.  
'prefetch\_filename' is useful for URLs with redirects.
- **CHECK\_FILESIZE\_ONLY:**
    - **default:** False
    - **required:** False
    - **description:** If True, a server's ETag and Last-Modified headers will not be checked to verify whether a download is newer than a cached item, and only Content-Length (filesize) will be used. This is useful for cases where a download always redirects to different mirrors, which could cause items to be needlessly re-downloaded. Defaults to False.
- **PKG:**
    - **required:** False
    - **description:** Local path to the pkg/dmg we'd otherwise download. If provided, the download is skipped and we just use this package or disk image.
- **COMPUTE\_HASHES:**
    - **required:** False
    - **default:** False
    - **description:** Local path to the pkg/dmg we'd otherwise download. If provided, the download is skipped and we just use this package or disk image.
- **HEADERS\_TO\_TEST:**
    - **required:** False
    - **default:** ['ETag', 'Last-Modified', 'Content-Length']
    - **description:** Local path to the pkg/dmg we'd otherwise download. If provided, the download is skipped and we just use this package or disk image.
- **User\_Agent:**
    - **required:** False
    - **description:** User Agent Header String to use for download
- **download\_version:**
    - **required:** False
    - **description:** version of download
- **disable\_ssl\_validation:**
    - **required:** False
    - **default:** False
    - **description:** Disables SSL Validation. WARNING: dangerous!
- **download\_missing\_file:**
    - **required:** False
    - **default:** True
    - **description:** 
            If the file is missing,
             but the metadata is present that shows it is the same file,
             skip download?
            
- **download\_save\_file:**
    - **required:** False
    - **default:** True
    - **description:** 
            Save download file?
            If False, then only metadata will be saved, not the download file.
            This will cause problems if the download file is required for future steps.
            This is treated as True if `download\_missing\_file` is True
             regardless of value supplied.
            This is designed to be used in AWS Lambda or similar Docker use cases.
            Only as much RAM as consumed by `chunksize`
             within `download\_and\_hash()` plus overhead is requried
             because the file is never fully read into memory and never written to disk
             if this setting is used.
            

## Output Variables
- **pathname:**
    - **description:** Path to the downloaded file.
- **last\_modified:**
    - **description:** last-modified header for the downloaded item.
- **etag:**
    - **description:** etag header for the downloaded item.
- **download\_changed:**
    - **description:** Boolean indicating if the download has changed since the last time it was downloaded.
- **download\_info:**
    - **description:** Info from previous or current download.
- **url\_downloader\_summary\_result:**
    - **description:** Description of interesting results.


